<div class="p-8">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">
    {{ data ? 'แก้ไขผู้ใช้งาน' : 'เพิ่มผู้ใช้งาน' }}
  </h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
    <!-- ชื่อ-นามสกุล -->
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700">ชื่อ-นามสกุล</label>
      <input
        matInput
        formControlName="fullName"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        placeholder="กรอกชื่อ-นามสกุล"
      >
      <span class="text-sm text-red-500" *ngIf="form.get('fullName')?.invalid && form.get('fullName')?.touched">
        กรุณากรอกชื่อ-นามสกุล
      </span>
    </div>

    <!-- อีเมล -->
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700">อีเมล</label>
      <input
        matInput
        formControlName="email"
        type="email"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        placeholder="Ex. example@domain.com"
      >
      <span class="text-sm text-red-500" *ngIf="form.get('email')?.hasError('email') && !form.get('email')?.hasError('required')">
        กรุณากรอกอีเมลให้ถูกต้อง
      </span>
      <span class="text-sm text-red-500" *ngIf="form.get('email')?.hasError('required')">
        อีเมลจำเป็นต้องกรอก
      </span>
    </div>

    <!-- บทบาท -->
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700">บทบาท</label>
      <select
        formControlName="role"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
      >
        <option value="ผู้ดูแลระบบ">ผู้ดูแลระบบ</option>
        <option value="ผู้จัดการ">ผู้จัดการ</option>
        <option value="ผู้ใช้งานทั่วไป">ผู้ใช้งานทั่วไป</option>
      </select>
      <span class="text-sm text-red-500" *ngIf="form.get('role')?.invalid && form.get('role')?.touched">
        กรุณาเลือกบทบาท
      </span>
    </div>

    <!-- ปุ่ม -->
    <div class="flex justify-end gap-3 mt-6">
      <button
        type="button"
        (click)="onCancel()"
        class="min-w-[100px] px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50"
      >
        ยกเลิก
      </button>
      <button
        type="submit"
        [disabled]="!form.valid"
        class="min-w-[100px] px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-400"
      >
        บันทึก
      </button>
    </div>
  </form>
</div>
